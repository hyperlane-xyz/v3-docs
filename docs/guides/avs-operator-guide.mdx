# Hyperlane AVS Operator Guide for Holesky

## Overview

Hyperlane validators are light offchain agents responsible for security - they observe messages on an origin chain's [Mailbox](../protocol/mailbox.mdx) and if needed sign a merkle root that attests the current state of the mailbox. 

This signature is stored and made publicly available (e.g. in a S3 bucket), which is then used by the offchain Relayer and Interchain Security Modules onchain. Validators are _not_ networked together and do not need to reach consensus.

As you follow this guide, you'll run a Hyperlane validator on [**any of the chains**](https://github.com/hyperlane-xyz/hyperlane-registry/tree/main/chains) the protocol is live on, including Arbitrum, Optimism, BSC, Base, Blast, Linea, Mode, and Polygon. After that you'll link your validator with your EigenLayer Operator by interacting with the AVS contract on Holesky.


## 1. Install CLI

Install the latest version of the `@hyperlane-xyz/cli` package with `npm install -g @hyperlane-xyz/cli`. Detailed CLI install instructions are available [here](https://docs.hyperlane.xyz/docs/reference/cli).

## 2. Run the validator

Follow the validator guide [here](../operate/validators/run-validators.mdx) with the AWS setup to run the validator on [any chain](https://github.com/hyperlane-xyz/hyperlane-registry/tree/main/chains) within the Hyperlane network. You can also easily generalize for other storage providers like [GCP](https://github.com/hyperlane-xyz/hyperlane-monorepo/pull/3156) and Azure, or other key management solutions.

Ensure that your KMS key has funds on that chain to announce itself.

### Monitoring

You can monitor EigenLayer specific endpoints via the `--metrics` port you specified in the validator configuration. Read more about the example endpoints and what should be expected [here](https://docs.eigenlayer.xyz/eigenlayer/avs-guides/spec/api/).

The supported endpoints are:

| Endpoint                     | Description                                |
| ---------------------------- | ------------------------------------------ |
| **GET /eigen/node**          | for node info                              |
| **GET /eigen/node/health**   | for node health                            |
| **GET /eigen/node/services** | for a list of services the node is running |

You'll need the validator address (address of the signing key) for the next step.

## 3. Set up keys

There is a distinction between the operator key and the AVS signing key. The operator key is meant for just interacting with the AVS contracts whereas the AVS signing key is used for active operations, which in our case will be signing checkpoints with a Hyperlane validator.

## 4. Register your operator

First, make sure you're registered with your operator key [as an EigenLayer operator](https://docs.eigenlayer.xyz/eigenlayer/operator-guides/operator-installation#operator-configuration-and-registration) on Holesky. You'll only need the ECDSA key.

Next, to register your operator to Hyperlane AVS, you can use the Hyperlane CLI. Register your operator key (generated via the EigenLayer CLI) by creating an ECDSA signature and submitting it along with the AVS signing key, which is your Hyperlane validator address from above (not a private key).

```bash
 hyperlane avs register --operatorKeyPath <PATH_TO_OPERATOR_KEY> \
    --chain holesky \
    --avsSigningKeyAddress <AVS_SIGNING_ADDRESS>
```

Your AVS signing key can be reused across multiple validators and doesn't require additional registration for each. If you use different AVS signing keys for each validator, you'll need to register each as an operator.

:::success

Congrats on registering with the Hyperlane AVS!

You can confirm you are registered by checking under the operator's section on EigenLayer's UI for Holesky [here](https://holesky.eigenlayer.xyz/avs/0xc76e477437065093d353b7d56c81ff54d167b0ab). 

Once confirmed, any Hyperlane message receiver can now leverage your validators signatures for security.

:::

## Learn more
You can read more about the AVS protocol design [here](../protocol/eigenlayer-avs.mdx).
